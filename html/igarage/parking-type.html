<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="all,follow">
    <link rel="stylesheet" href="../../vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../vendor/layui/css/layui.css">
    <link rel="stylesheet" href="../../css/style.default.css" id="theme-stylesheet">
</head>

<body>
<div class="content-inner" style=" background-color: white; z-index: 0;">
    <!-- ===================================================== -->
    <!-- 请在此处编写你的业务代码 -->
    <!-- ===================================================== -->
    <fieldset class="layui-elem-field layui-field-title">
        <legend>车位类型列表</legend>
        <div class="layui-field-box">
            <div class="work-area" style="margin-top: 10px;margin-left: 10px">
                <table class="layui-hide" id="parkingTypeTable" lay-filter="parkingTypeTable"></table>
            </div>
        </div>
    </fieldset>
</div>

    <!-- js插件 -->
    <script src="../../vendor/jquery/jquery.min.js"></script>
    <script src="../../vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../vendor/layui/layui.js"></script>
    <script src="../../js/front.js"></script>
    <script src="../../js/common.js"></script>

<script type="text/html" id="tableNo">
    {{d.LAY_TABLE_INDEX + 1}}
</script>

<script id="toolbar" type="text/html">
    <div class="layui-btn-group">
        <button type="button" class="layui-btn layui-btn-primary layui-btn-sm" lay-event="add">
            <i class="layui-icon">&#xe654;</i>
        </button>
    </div>
</script>

<script type="text/html" id="parkIngTypeEditPage">
    <div class="container" style="width: 98%">
        <div class="layui-form">
            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                <legend>新增车位类型</legend>
            </fieldset>
            <form class="layui-form layui-form-pane" id="carPageForm" action="" lay-filter="parkIngType-edit">
                <input type="hidden" id="id" name="id">
                <div class="layui-form-item">
                    <label class="layui-form-label">类型名称</label>
                    <div class="layui-input-block">
                        <input type="text" name="name" autocomplete="off" id="name"
                               placeholder="类型名称"
                               lay-reqtext="类型名称不能为空" lay-verify="required" class="layui-input">
                    </div>
                </div>
                <div class="layui-form-item">
                    <div class="layui-input-block">
                        <button class="layui-btn" lay-submit="" type="button" lay-filter="garageChargerFormSubmit">
                            立即提交
                        </button>
                        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</script>

<script type="application/javascript">
    layui.use('table', function () {
        var table = layui.table;

        var parkingSpaceTypeListCols = [[
            {
                field: 'id', title: '序号', toolbar: '#tableNo', sort: false, fixed: 'center'
            },
            {
                field: 'name', title: '类型名称', sort: false, fixed: 'center'
            }
        ]];

        function res(res) {
            var count = 0;
            if(res.parkingSpaceTypeList){
                count = res.parkingSpaceTypeList.length;
            }
            return {
                code: 0,
                msg: "",
                count: count,
                data: res.parkingSpaceTypeList
            };
        }

        var tableIns = initTable(table, '车位类型表', "parkingTypeTable", 20, "/getParkingSpaceTypeList.json", {}, res, parkingSpaceTypeListCols, "#toolbar", null);

        table.on('toolbar(parkingTypeTable)', function (obj) {
            var layEvet = obj.event;
            switch (layEvet) {
                case 'add':

                    layer.open({
                        type: 1,
                        title: false,
                        anim: 1,
                        area: ['500px', '300px'],
                        content: $("#parkIngTypeEditPage").html()
                    });
                    break;
            };
        });
    });
</script>
</body>

</html>
